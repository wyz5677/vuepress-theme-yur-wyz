<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>风的过往</title>
    <meta name="description" content="" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="风的过往" />
    <meta property="og:site_name" content="风的过往" />
    <meta property="og:locale" content="zh-CN" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="风的过往" />
     <meta name="description" content="书写生活与你">
    <meta name="keywords" content="vue"> <link rel="preload" href="/vuepress-theme-yur-wyz/assets/css/1.styles.36a075b2.css" as="style"><link rel="preload" href="/vuepress-theme-yur-wyz/assets/js/app.192e8ece.js" as="script"><link rel="preload" href="/vuepress-theme-yur-wyz/assets/js/39.df2176d1.js" as="script"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/0.ea68e6b2.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/11.3e2909a4.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/12.02dfc77c.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/13.f17e201c.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/14.148a91b6.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/15.96d6b274.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/16.78f060f1.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/17.9e9f06aa.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/18.e22e7eac.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/19.bb281a1a.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/2.7e976c31.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/20.a45d6132.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/21.f641e963.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/22.1a46d44d.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/23.6c87ed34.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/24.6b14f46c.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/25.8a2bb7ab.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/26.a30ed4d6.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/27.eb45fc15.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/28.809dc0b4.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/29.ac5158db.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/3.35c3bdd8.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/30.8e921d80.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/31.706091e1.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/32.9fc31875.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/33.7a2fb9a0.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/34.dcc3d54f.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/35.e9b10cbb.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/36.b312452f.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/37.d836accb.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/38.21c799a3.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/4.c7c244c4.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/40.2c3ee8b6.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/5.9fce5643.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/6.712bd548.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/7.ae890267.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/8.7f8b4de0.js"><link rel="prefetch" href="/vuepress-theme-yur-wyz/assets/js/9.8a609ad7.js"> <link rel="stylesheet" href="/vuepress-theme-yur-wyz/assets/css/1.styles.36a075b2.css">
  </head>
  <body>
    <noscript>
      JavaScript fails to load.
    </noscript>
    <div id="app" data-server-rendered="true"><div id="yur"><header id="header"><div class="header-container"><div class="header-container-logo"><a href="/vuepress-theme-yur-wyz/" class="router-link-active"><img src="/vuepress-theme-yur-wyz/logo64.png" alt="风的过往"> <svg width="40px" height="26px" xmlns="http://www.w3.org/2000/svg"><g><text x="50%" y="75%" font-size="20" text-anchor="middle" text-transform="uppercase" text-shadow="0 0 1px #3498db" fill="none" stroke="#3498db" stroke-width="1px" stroke-dasharray="90 310">
                  wyz
                  <animate attributeName="stroke-dashoffset" begin="-1.5s" dur="6s" from="0" to="-400" repeatCount="indefinite"></animate></text><text x="50%" y="75%" font-size="20" text-anchor="middle" text-transform="uppercase" text-shadow="0 0 1px #f39c12" fill="none" stroke="#f39c12" stroke-width="1px" stroke-dasharray="90 310">
                  wyz
                  <animate attributeName="stroke-dashoffset" begin="-3s" dur="6s" from="0" to="-400" repeatCount="indefinite"></animate></text><text x="50%" y="75%" font-size="20" text-anchor="middle" text-transform="uppercase" text-shadow="0 0 1px #e74c3c" fill="none" stroke="#e74c3c" stroke-width="1px" stroke-dasharray="90 310">
                  wyz
                  <animate attributeName="stroke-dashoffset" begin="-4.5s" dur="6s" from="0" to="-400" repeatCount="indefinite"></animate></text><text x="50%" y="75%" font-size="20" text-anchor="middle" text-transform="uppercase" text-shadow="0 0 1px #9b59b6" fill="none" stroke="#9b59b6" stroke-width="1px" stroke-dasharray="90 310">
                  wyz
                  <animate attributeName="stroke-dashoffset" begin="-6s" dur="6s" from="0" to="-400" repeatCount="indefinite"></animate></text></g></svg></a></div> <ul role="menu" class="header-container-menu ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="header-container-menu-item ant-menu-submenu ant-menu-submenu-horizontal ant-menu-submenu-selected"><div aria-haspopup="true" class="ant-menu-submenu-title"><span><span>
                分类
                <i aria-label="图标: caret-down" class="header-container-menu-sub-icon anticon anticon-caret-down"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="caret-down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"></path></svg></i></span></span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="header-container-menu-item ant-menu-item"><a href="/vuepress-theme-yur-wyz/links.html">
              友人帐
            </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="header-container-menu-item ant-menu-item"><a href="/vuepress-theme-yur-wyz/about.html">
              关于我
            </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <div class="header-container-menu-mobile"><i aria-label="图标: align-right" class="anticon anticon-align-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="align-right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 424H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 212H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"></path></svg></i></div></div></header> <main id="main"><div id="post"><div class="post-banner"><div class="background-image" style="height:280px;background-image:url(/vuepress-theme-yur-wyz/bg9.jpg);"></div></div> <div class="post-content"><div class="post-content-header"><h1>
        Vue.js 设计与实现（三）
      </h1></div> <div id="markdown"><div class="content__default"><p><br><br><br></p> <h2 id="第三章-vue-js-3的设计思路"><a href="#第三章-vue-js-3的设计思路" class="header-anchor">#</a> 第三章：vue.js 3的设计思路</h2> <p>🍹 心得 ：vue包含编译系统和渲染系统，各司其职</p> <div class="custom-block tip"><p>1 vue可以通过<font color="red">模板</font>或者<font color="red">虚拟dom</font>两种方式描述ui，虚拟dom更灵活，模板更直观</p></div> <div class="custom-block tip"><p>2 <font color="red">渲染系统</font>可以把<font color="red">虚拟dom转为真实的dom并挂载</font>，其<font color="red">精髓在于用diff算法来做dom更新的比较</font>，只更新需要更新的内容</p></div> <div class="custom-block tip"><p>3 <font color="red">组件的本质</font>就是一组<font color="red">虚拟dom元素</font>的封装，可以是返回虚拟dom的<font color="red">函数</font>，也可以是一个<font color="red">对象</font>，对象必须要有函数来产出组件需要渲染的虚拟dom，渲染组件会递归的调用渲染器渲染其的subtree</p></div> <div class="custom-block tip"><p>4 <font color="red">编译系统编译模板为渲染函数</font></p></div> <br> <hr> <br> <blockquote><p>要点：</p> <ul><li><code>1</code> vue提供两种方式描述ui，一种是模板（template），一种是虚拟dom（js对象来描述真实的dom结构）的方式</li> <li><code>2</code> 渲染系统主要是 render函数和函数中的h函数，主要做的事情就是通过h函数把js Ast给转为虚拟dom，然后通过mount函数把虚拟dom转为真实dom并挂载到真实的dom（比如id为app的div）节点下，在更新的时候，通过patch函数来对比两个节点的子节点，生成新的虚拟dom,再挂载</li> <li><code>3</code> 渲染系统中render函数中的h函数就是辅助创建虚拟dom的工具函数，比如虚拟dom如果很多子节点，需要编写的内容就很多，h函数来包裹后就会少很多代码</li> <li><code>4</code> 组件的本质是函数或者对象（有状态组件）</li> <li><code>5</code> 模板的工作原理就是把template(模板认为是字符串)生成一个与之对应的渲染函数render,然后放入到比如单文件组件的script标签中的组件对象上（和methods平级），然后交给渲染系统处理</li></ul></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">onclick</span><span class="token operator">:</span>handler<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">'click me'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><ul><li><code>6</code> vue会通过把动态的内容做一个标识（patchFlags）来提升渲染系统的性能</li></ul></blockquote></div></div></div> <div class="post-footer"><div class="post-footer-reward"><button type="button" class="ant-btn ant-btn-circle ant-btn-lg"><i aria-label="图标: money-collect" class="anticon anticon-money-collect"><svg viewBox="64 64 896 896" focusable="false" data-icon="money-collect" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"></path></svg></i></button></div> <div class="post-footer-copyright"><span style="float:left;"><i aria-label="图标: copyright" class="anticon anticon-copyright"><svg viewBox="64 64 896 896" focusable="false" data-icon="copyright" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm5.6-532.7c53 0 89 33.8 93 83.4.3 4.2 3.8 7.4 8 7.4h56.7c2.6 0 4.7-2.1 4.7-4.7 0-86.7-68.4-147.4-162.7-147.4C407.4 290 344 364.2 344 486.8v52.3C344 660.8 407.4 734 517.3 734c94 0 162.7-58.8 162.7-141.4 0-2.6-2.1-4.7-4.7-4.7h-56.8c-4.2 0-7.6 3.2-8 7.3-4.2 46.1-40.1 77.8-93 77.8-65.3 0-102.1-47.9-102.1-133.6v-52.6c.1-87 37-135.5 102.2-135.5z"></path></svg></i>
          版权说明
        </span> <span style="float:right;"><i aria-label="图标: calendar" class="anticon anticon-calendar"><svg viewBox="64 64 896 896" focusable="false" data-icon="calendar" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"></path></svg></i>
          2022-10-11
        </span></div> <div class="post-footer-tag"><span class="tag ant-tag">
        vue
      </span><span class="tag ant-tag">
        Yur
      </span></div></div> <div class="post-catalog"><button type="button" class="ant-btn ant-btn-circle ant-btn-lg ant-btn-icon-only"><i aria-label="图标: ordered-list" class="anticon anticon-ordered-list"><svg viewBox="64 64 896 896" focusable="false" data-icon="ordered-list" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 0 0-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 0 0 2.1-5.4V432c0-2.2-1.8-4-4-4z"></path></svg></i></button> <!----></div></div></main> <footer id="footer"><div class="footer-container"><div class="content"><span>
            © 2019-2022 
            风的过往
          </span></div> <a href="http://beian.miit.gov.cn/" target="_blank" class="bei-an">
            海到尽头天作岸,山登绝顶我为峰
          </a></div></footer></div><div class="global-ui"></div></div>
    <script src="/vuepress-theme-yur-wyz/assets/js/app.192e8ece.js" defer></script><script src="/vuepress-theme-yur-wyz/assets/js/39.df2176d1.js" defer></script>
  </body>
</html>
